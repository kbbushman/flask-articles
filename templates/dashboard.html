{% extends 'layout.html' %}

{% block body %}
  <h1>Dashboard <small>Welcome {{ session.username }}</small></h1>
  <a href="/add-article" class="btn btn-success">Add Article</a>
  <hr />

  <table class="table table-striped">
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Author</th>
      <th>Date</th>
      <th ></th>
      <th></th>
      <th></th>
    </tr>
    {% for article in articles %}
      <tr>
        <td>{{ article.id }}</td>
        <td>{{ article.title }}</td>
        <td>{{ article.author }}</td>
        <td>{{ article.create_date }}</td>
        <td style="max-width: 50px;"><a href="/articles/{{ article.id }}" class="btn btn-primary">View</a></td>
        <td style="max-width: 50px;"><a href="/edit-article/{{ article.id }}" class="btn btn-secondary">Edit</a></td>
        <td style="max-width: 50px;">
          <form action="{{ url_for('delete_article', id=article.id) }}" method="POST">
            <input type="hidden" name="_method" value="DELETE">
            <input type="submit" value="Delete" class="btn btn-danger">
          </form>
        </tr>
      </tr>
    {% endfor %}
  </table>
{% endblock %}
